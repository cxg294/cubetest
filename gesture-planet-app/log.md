# 手势控制星球应用项目日志

## 项目概述

手势控制星球应用是一个基于网页的交互式3D星球展示系统，使用手势识别技术实现对星球的操控。项目使用MediaPipe Hands API进行手势识别，Three.js实现3D渲染，支持多种行星展示和交互功能。

## 主要功能

### 手势控制系统
- 左手控制：通过左手食指和中指指尖位置确定星球显示位置
- 左手深度控制：靠近或远离摄像头改变星球大小
- 右手控制：移动右手控制星球旋转
- 手势切换：右手捏合再展开切换显示的星球
- 骨骼线显示：提供手部骨骼线可视化开关

### 行星系统
- 支持10个天体模型：太阳、水星、金星、地球、月球、火星、木星、土星、天王星、海王星
- 每个星球使用真实纹理贴图
- 特殊效果：地球大气层、土星光环、太阳发光效果
- 行星信息面板：显示直径、距离太阳距离、公转周期和简介

### 界面交互
- 响应式设计：自适应不同屏幕尺寸
- 深度指示器：显示手部与摄像头的距离
- 操作说明面板：点击显示详细操作指南
- 行星信息浮窗：展示当前星球的详细信息

## 技术实现

### 前端技术
- HTML5 + CSS3：构建响应式用户界面
- JavaScript (ES6+)：实现业务逻辑和交互功能
- Three.js：3D场景渲染和模型管理
- MediaPipe Hands API：实时手势识别和跟踪

### 核心算法
- 坐标映射系统：将手势坐标精确映射到3D空间
- 平滑插值：使星球位置和大小变化平滑自然
- 抖动过滤：过滤微小的手部抖动提高控制稳定性
- 自动/手动旋转模式切换：根据右手是否可见自动切换

## 更新历史

### 2024-02-05 星球自转速度优化
- 将默认自转速度从3.0翻倍至6.0
- 提升星球自转速度，使行星运动更加明显
- 保持手动控制旋转速度不变

### 2024-01-28 手势控制方向调整
- 优化右手控制行星旋转的上下方向，颠倒原有逻辑
- 保持左右方向不变，提升直觉操作体验
- 修复右手上下移动与行星旋转对应关系

### 2024-01-25 离线支持优化
- 将所有JavaScript库下载到本地libs目录
- 下载并本地化所有MediaPipe Hands模型文件和WASM文件
- 创建专用hands_models目录存放所有模型文件
- 更新文件路径引用，实现完全离线运行能力

### 2024-01-20 界面布局优化
- 将深度指示器集成到顶部导航栏，减少屏幕占用
- 将操作说明改为悬浮窗口形式，点击后显示
- 移除当前星球文本显示，统一使用行星信息面板
- 优化各UI元素间的间距与大小比例

### 2024-01-15 手势骨骼线与行星信息优化
- 修复骨骼线与实际手部位置偏差问题
- 开发新的坐标映射系统，精确计算视频实际显示区域
- 添加视频区域调试边框，便于开发调试
- 改进信息面板样式，减少视觉干扰
- 优化面板内容布局和尺寸

### 2023-12-28 骨骼线与行星信息更新
- 修复骨骼线与实际手部位置的缩放偏差和位置偏差问题
- 添加窗口调整大小事件监听，确保Canvas尺寸与视频容器保持一致
- 在视频画面底部添加行星信息浮窗
- 为每个行星添加详细信息，包括直径、距太阳距离、公转周期等数据
- 添加行星描述文本，增强教育性内容

### 2023-12-15 项目初始版本
- 实现基本手势识别系统
- 完成10个天体的3D模型
- 实现左手控制位置和大小、右手控制旋转的功能
- 添加深度指示器和操作说明面板
- 实现捏合手势切换行星功能

## 未来计划
- 优化手势识别算法，进一步提高识别稳定性
- 添加行星轨道和系统动画，提升视觉效果
- 考虑添加多用户同时交互功能
- 增加更多手势和控制功能
- 增加VR/AR支持，提供沉浸式体验 